Fri Jan  2 12:14:52 2004  Joern Thyssen  <jth@gnubg.org>

	Use one chequer racing formulae from Zadeh & Kobliska, Management
	Science, 1977.

	* onechequer.c (GWCFromPipCount): new function. Delete obsolete
	OneChequer and GetDistFromPipCount.
	(change all callers)

Thu Jan  1 22:59:09 2004  Oystein Johansen <oystein@gnubg.org>

        * external.c: Add som #if USE_SOCKETS to make it compile w/o socket
	support.

Thu Jan  1 20:29:09 2004  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (DisplayAnalysis, DisplayTimeAnalysis): show time analysis
	in cli.
	* gtkgame.c (TimeAnalysis, SetAnnotation): show time analysis
	in gui.
	* analysis.c, import.c: remove debug output
	* format.c (OutputMWCDiff): new function.

Thu Jan  1 18:56:50 2004  Joern Thyssen  <jth@gnubg.org>

	Report equity loss due to "time outs", e.g., when importing
	matches from TMG which ended with "time out".
	[USE_TIMECONTROL]

	TODOs: save in SGF file, text/gtk analysis output

	* analysis.c (AnalyzeMove): analyse time-outs.
	* analysis.c (updateStatContext): calculate equity loss from time-outs.
	* formatgs.c (formatGS): output time-outs.
	* import.c (ParseTMGGame): don't record dice rolls with dice recorded
	as '?'

Thu Jan  1 12:44:52 2004  Joern Thyssen  <jth@gnubg.org>

	Happy New Year to all!

	* gtktoolbar.c (ToolbarUpdate): disable edit button if there
	is no match in progress
	(reported by Misja Alma)

Wed Dec 31 23:24:55 2003  Joern Thyssen  <jth@gnubg.org>

	Change external interface to use yacc/lex parser/scanner.

	* configure.in: look for yacc, lex using correct macros.
	* external_l.l, external_y.y: new files
	* external.c: use yacc/lex

Mon Dec 29 23:58:34 2003  Joern Thyssen  <jth@gnubg.org>

	* play.c (NewGame): remove some old code that led
	to gnubg deleting the current game. I wonder why
	I originally inserted that code???
	(bug #7008 reported by Petr Kadlec)

Mon Dec 29 23:17:20 2003  Joern Thyssen  <jth@gnubg.org>

	* progress.c: move cpp directive.

Mon Dec 29 23:14:35 2003  Joern Thyssen  <jth@gnubg.org>

	* Makefile.am, configure.in: don't use old X code anymore.
	(bug #7003, reported by Rod Roark)

Thu Dec 18 23:35:16 2003  Joern Thyssen  <jth@gnubg.org>

	* configure.in: search for ATLAS libblas.
	* bearoff.c: disable cache, since it appears to be rather 
	inefficient.
	* bearoff.c (ReadBearoffOneSidedExact): only use cache when
	initialised.
	* show.c (CommandShowEPC): new subroutines.
	* gnubg.c (ShowEPC, EPC): new functions.
	* gnubg.c: new command "show epc".	
	* onechequer.c (DistFromEPC): new function.
	* makebearoff.c (BearOff): fix database lookup bug.
	* gtktheory.c, gtkbearoff.c, gtkgame.c: fix font bug introduced earlier.
	* gtkbearoff.c (GTKShowEPC): new function.
	* eval.c (EvalInitialise): initialise table used for neural net
	evaluation 
	* gtkgame.c: add "show epc" to menu.

Sat Dec 13 21:15:52 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkrace.c (OneChequerPage): remove call to SwapSides
	(reported by Ned Cross and Petr Kadlec)
	* gnubg.c (HintChequer): compile error: move "moverecord *pmr" 
	outside USE_GTK.
	(reported by Nardy)
	* gtkgame.c (ReportBug): remove extra slash in path
	(bug #6898 by Kennedy Fraser)
	* analysis.c (AnalyzeMove): generalise calculation of
	is_initial_position. Use is_initial_position for calculation of luck.
	(reported by Mathias Kegelmann)
	* progress.c: print time elapsed, estimated time left, and 
	estimated final standard error.
	* show.c (CommandShowVariation): 
	* bearoff.c, format.c, gtktheory.c: add some gettexts.
	* import.c (isAscending): fix off-by-one bug.
	(reported by Joseph Heled)
	* set.c (CommandSetVariation): add some extra output to
	emphasize that the new setting won't be effective until
	a new match or session has been started.

Mon Dec 29 10:56:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* htmlimages.c, html.c: Small fixes and variable size html image generation

Wed Dec 3 11:56:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* htmlimages.c: Tidied code

Sun Nov 30 13:15:48 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (real_main): honour env. var HISTSIZE.
	* gnubg.c (CommandHistory): show all entries in history.
	(suggested by Achim)

Son Nov 30 12:50:45 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLPrologue): set Charset to GNUBG_CHARSET instead
	of hardcoded ISO-8859-1.
	(suggested by Petr Kadlec)

Sun Nov 30 09:56:25 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkbearoff.c, gtkgame.c, gtktheory.c: subst. "iso8859-1" with "*"
	in font names.
	(suggested by Petr Kadlec)

Sun Nov 30 09:10:46 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (HintCube): improve logic for determining whether a move
	has been made: (a) by having moved something in the GUI (old logic)
        (b) by going back in the match and doing a hint on an already
	stored move
	(suggested by Michael Depreli)

Sun Nov 30 08:47:01 2003  Joern Thyssen  <jth@gnubg.org>

	New command "clear hint" to allow CLI users to force
	re-evaluation of "hint" after changing settings.
	(suggested by Achim)

	* gnubg.c (CommandClearHint): new command "clear hint".
	* gnubg.c (InvalidateStoredCube): new function.
	* gnubg.c (HintCube): fix typo

Sat Nov 29 21:22:13 2003  Joern Thyssen  <jth@gnubg.org>

	Implement history

	* gnubg.c (real_main, PromptForExit, ProcessInput): implement
	history
	* gnubg.c (CommandHistory): new command "history".

Sat Nov 29 11:02:50 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubgmodule.c: new python command "nextturn" to
	emulate C routine "NextTurn".
	* gnubgmodule.c (PyGameStats): add a few stats.
	* gnubgmodule.c (PythonCommand): add calls to nextturn.

Sat Nov 29 10:14:33 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (ReportBug): use uname to improve logic.

Thu Nov 27 9:56:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>
	* htmlimages.c: Fix dice colour
	* gtkboard.c: Remove previous fix...

Wed Nov 26 22:12:37 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c: when opening the bug report page in a browser window
	make gnubg fill in its version, build date and the operating system

Mon Nov 24 9:56:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkprefs.c: Make sure preview appears if libxml not present
	* gtkboard.c: Remove valgrind error

Sun Nov 23 21:07:12 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* gnubg.c function header comments for token handling

Sat Nov 21 21:19:17 2003 Oystein Johansen <oystein@gnubg.org>

        * gtkgame.c: corrected some links (reported by Frank Grosse)

Thu Nov 20 20:24:04 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - board setup in .sgf files of rollouts only worked if
	  player 0 made first move, now appears to be correct for both
	  players and double by both players

Thu Nov 20 07:44:55 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gtkgame.c (EvalWidget): Add /* xgettext: no-c-format */ comment.

Wed Nov 19 19:52:16 2003 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c gtkprefs.c gtkrace.c add some more I18n strings

Wed Nov 19 19:16:25 2003 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* play.c - always output moves to stdout/message window

Wed Nov 19 16:35:25 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* htmlimages.c, play.c, progress.c, rollout.c:
	make CLI version compile, get rid of compiler warnings

Wed Nov 19 07:15:17 2003 Oystein Johansen <oystein@gnubg.org>

        * latex.c: use unicode and decrease size of board

Mon Nov 17 20:04:17 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkoptions.c: add GUI menu entry for Czech language

Sun Nov 16 10:56:59 2003  Joern Thyssen  <jth@gnubg.org>

	* play.c (DiceRolled): add call to ShowBoard for CLI.
	(reported by Achim)

Wed Nov 12 01:17:58 2003  Oystein Johansen <oystein@gnubg.org>

        * gnubg.iss: New file for building MS-Windows installation archives
	             with Inno Setup.

Sat Nov  8 19:56:58 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* analysis.c - set up cubeinfo before analysis of a SET_DICE
	  moverecord.

Thu Nov  6 13:18:48 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* analysis.c - Stupid, stupid, stupid. My silly last minute change 
	  prevented cube analysis on any position except the initial one.
	  Arrgh.

Wed Nov  5 00:31:27 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* analysis.c - don't analyse cube if board is in initial position
	  (spurious annotations for not doubling when tutor mode was enabled)
	* gtkoptions.c - fix bug which crashed with invalid language option

Mon Nov 3 11:56:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c: Changes to the panel view

Sat Nov  1 14:36:45 2003  Joern Thyssen  <jth@gnubg.org>

	* htmlimages (CommandExportHTMLImages): make the html image
	export work with the new board dimensions.
	(reported by olivier croisille)
	* html.c (printHTMLBoardGNU): some new images.

Wed Oct 29 12:26:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c: Moved .xpm files in root directory to xpm directory

Tue Oct 28 21:10:39 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* gtkoptions.c - add Turkish and Icelandic to language options

Tue Oct 28 11:56:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* import.c: Minor memory bug
	* gtkboard.c: Minor chequer sound fix

Fri Oct 25 10:10:07 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - correct stupid mistake causing board setup in sgf
          file to be reversed

Fri Oct 25 10:10:07 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - cast to keep compiler happy
	
Thu Oct 24 22:52:23 2003 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* set.c backgammon.h rollout.c gnubg.c - added text mode commands
	  set rollout log on/off, set rollout logfile <template name>
	  When rollout log is set to on and rollout logfile has a valid
	  path and template, then each rollout will generate a .sgf file
	  of the game. The .sgf file name will use the template, followed
	  by '-'nnnnn'-'x.sgf  where nnnnn is the trial number (starts at
	  0) and x is a etter a-z to indicate which option is being done -
	  the top line in the rollout window is 'a', next 'b', etc/
	
Sat Oct 18 13:46:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkboard.h, play.c, sgf.c: Tidy 3d dice shake code

Sat Oct 18 11:19:06 2003  Joern Thyssen  <jth@gnubg.org>

	* formatgs.c (formatGS): use fOutputDigits and fix typo in 
	calculation of confidence interval.
	(in part reported by Zorba)
	* analysis.c, html.c: always show overall statistics.

Fri Oct 17 16:31:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkprefs.c: Make 3d dice look smoother

Thu Oct 16 19:22:58 2003  Joern Thyssen  <jth@gnubg.org>

	* rollout.c (RolloutGeneral): do not call SanityCheck. The gwcs returned
	by BasicCubefulRollout should be sanitised already. Besides, either
	anBoardOrig or aarMu[alt] should be inverted if fInvert.
	(bug reported by Robert Eberlein)	

Thu Oct 16 11:49:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* renderprefs.c: Fix for 3d dice opacity settings
	* sgf.c: Make sure dice don't roll when match loaded

Tue Oct 14  18:43:10 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* drawboard.c - FormatPoint assumed bar and off would always be
	  three characters, Icelandic UTF-8 did not agree

Tue Oct 14 10:58:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* drawboard3d.c, misc3d.c, gtkprefs.c, renderpref.c: Added
	option to draw background in bear off trays (3d board).
	* graph.c: Tidied number sizes in axis.
	* boards.xml: Added more (rough) 3d designs.
	* gtkboard.c: Don't allow chequer input if computers turn.

Mon Oct 13 18:12:37 2003  Joern Thyssen  <jth@gnubg.org>

	gnubg.c (real_main): attempt to read install directory
	from windows registry.

Mon Oct 13 12:40:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c, gtkboard.c: Add _() translations to a few strings.
	(reported by Hlynur Sigurgíslason)

Sun Oct 12 15:13:46 2003  Joern Thyssen  <jth@gnubg.org>

	* sgf.c (RestoreGame): setting fTurn = fMove = -1 results in the board
	being inverted when shown.
	(reported by Albert Silver)

Sun Oct 12 14:57:49 2003  Joern Thyssen  <jth@gnubg.org>

	* timecontrol.c: use "if ( fX )" around calls to GTK specific
	code.

Sun Oct 12 12:26:49 2003  Joern Thyssen  <jth@gnubg.org>

	* analysis.c (AnalyzeGame + others): don't analyse cube
	for cubeless play.
	(bug #5872 reported by Stefan van den Berg(?))

Sun Oct 12 11:49:33 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (SetRollouts): change tests "a != b" to
	"fabs(a-b)>epsilon" for floats.
	(bug #4408 item 3, reported by Ian Dunstan)

Sun Oct 12 10:43:18 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (swapGame): swap player for MOVE_TIME.
	* import.c (ImportTMGGame): handle timeouts in TMG files
	correctly when USE_TIMECONTROL is defined.

Sat Oct 11 23:22:37 2003  Joern Thyssen  <jth@gnubg.org>

	* play.c (NextTurn): protect call to gtk_timeout_remove.
	(FIXME: implement general solution?)
	(bug reported by Scott Steiner)

Sat Oct 11 18:00:03 2003  Joern Thyssen  <jth@gnubg.org>

	* text.c (TextPrologue, ExportPositionGammOnLine, HTMLPrologue):
	change format for writing score, e.g., add text for Crawford game.
	(in part reported by Neil Kazaross)

Sat Oct 11 13:15:36 2003  Joern Thyssen  <jth@gnubg.org>

	* progress.c (TextRolloutProgress): Improve rollout progress output
	when in text mode
	(suggested by Ian Shaw)

Tue Oct 7 12:06:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkcube.c, gtkgame.c: Make sure hint window is correct size in new layout.
	* gtkprefs.c, drawboard3d.c: Small memory fix.

Mon Oct 06 20:42:21 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkcube.c: bring output of double and take analysis in line

Mon Oct 06 19:37:17 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* analysis.c, analysis.h, formatgs.c, gnubgmodule.c, sgf.c:
	  change categorization of doubles (2 categories each for missed and
	  wrong doubles, separator is cash point)

Mon Oct 06 18:34:47 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtktheory.c: fix typo (bg rate value range in theory window)

Sat Oct  4 16:40:25 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkchequer.c (UpdateMoveList): ensure that the selectec
	move is highlighted.

Fri Oct  3 20:49:58 2003  Joern Thyssen  <jth@gnubg.org>

	* play.c: store analysis performed by computer player
	where possible.

Fri Oct  3 19:17:29 2003  Joern Thyssen  <jth@gnubg.org>

	* progress.c (TextRolloutProgress): no newline after
	\r.

Fri Oct  3 19:08:51 2003  Joern Thyssen  <jth@gnubg.org>

	* gtktheory.c (TheoryUpdated): argh, it should be
	bg <= 1.0-g.
	(reported by Massimiliano Maini)

Thu Oct  2 20:48:23 2003  Joern Thyssen  <jth@gnubg.org>

	* formatgs.c (errorRateMP): remove extra digit in 
	error rates.
	(suggested by olivier croisille)

Thu Oct  2 20:21:21 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ImportSGGGame): ensure that resignations are in the
	range 1 (normal) to 3 (backgammon)
	(bug #5641 reported by Bert Van Kerckhove)

Thu Oct  2 19:57:56 2003  Joern Thyssen  <jth@gnubg.org>

	* text.c (printTextBoard): assign asz[7] and asz[8] if
	USE_TIMECONTROL
	(reported by Jeff White)

Thu Oct  2 19:37:15 2003  Joern Thyssen  <jth@gnubg.org>

	* gtktheory.c (TheoryUpdated): ensure that bg <= g.

Thu Oct 2 10:59:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	play.c, gnubg.c: Added first move command

Wed Oct 1 2003 16:37:22 GMT Jim Segrave <jes@jes-2.demon.nl>

	* gtkboard.c - when changing the match length, update the limits
	  on the score spinner. Also ensure the dice are valid or not 
	  rolled. You can now increase the match length and then change a
	  score to be greater than the old match length.	

Tue Oct 1 9:38:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkprefs.c: Fixed 2d board chequer shape setting.
	* gtkpboard.c, render.c: Fixed single chequer removal from bar in edit mode

Mon Sep 29 8:33:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtktoolbar.c: Remeber last used import/export type+directory.
	* gtkgame.c: Escape key exits fullscreen mode, added removable
		warning when fullscreen mode entered.

Fri Sep 26 2003 19:18:48 GMT Jim Segrave <jes@jes-2.demon.nl>

	* play.c = missing conditional around call to HitGameClock

Fri Sep 26 2003 08:17:55 Stein Kulseth <steink@opera.com>
	* backgammon.h gnubg.c gtkgame.[ch] play.c
	  set.c tctutorial.h timecontrol.[ch]:
		bugfixes,
		GUI additions

Tue Sep 23 17:47:55 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* sgfp.c sgfl.c - regenerated for users who don't have working
	  flex/bison
	
Mon Sep 22 22:35:43 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* sgf.y - Concatenate() didn't deal with empty ValueString's
	

Mon Sep 22 19:38:07 2003  Joern Thyssen  <jth@gnubg.org>

	* rollout.c (RolloutGeneral): do not invert board for
	sanity check
	(reported by Daniel Murphy,
	http://www.gammonline.com/members/board/config.cgi?read=61387)

Sun Sep 21 18:31:55 2003  Joern Thyssen  <jth@gnubg.org>

	* eval.c (getMoneyPoints): fix bug in calculation of W and L.
	(reported by Massimiliano.Maini)

Mon Sep 22 11:50:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkprefs.c: Add option to cover all of 3d chequer with texture

Sun Sep 21 19:28:03 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c (GTKMatchInfo): show match comment text, rearrange window,
	fix memory leak

Sun Sep 21 16:57:55 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ParseOldMove): fix a few problems with the FIBS
	oldmoves import.
	(reported by Joseph)

Sat Sep 20 22:07:59 2003  Joern Thyssen  <jth@gnubg.org>

	* formatgs.c (errorrateMP): allow control of number of digits in 
	error rate and allow control over factor used (default is 1000).
	* gnubg.c: new command "set output errorratefactor ...".
	* set.c (CommandSetOutputErrorRateFactor): new function.

Fri Sep 19 20:23:46 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* boarddim.h - reverse cube locations, gtkgame.c - micro-typo
	  in dice drawing area
	
Fri Sep 19 19:53:02 GMT 2003  Jim Segrave <jes@jes-2.demon.nl>

	* Makefile.am, Makefile.in - add timer.c to sources

Fri Sep 19 20:59:43 2003  Joern Thyssen  <jth@gnubg.org>

	* eval.c (getPercent): fix bugs for "strange" match play
	scenarios (see 2-ply and 3-ply eval on cAmgACAAGAAA/4HPkAUgzW8EBMA)
	(reported by Ege Lundgren)	

Fri Sep 19 09:34:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c: Add tab-completion to the command dialog

Thu Sep 19 22:06:27 2003 GMT  Jim Segrave <jes@jes-2.demon.nl>

	* first cut at paramaterising board. It now appears to be possible
	  to alter the aspect ratio (adding space in the middle). A 72x108
	  board is buildable, but should not be used (there's no guarantee
	  that the dice or doubling cube can be placed on the board
	  without intersecting chequers, although changing the die and 
	  doubling cube size will fix that)


Wed Sep 17 11:42:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* timercontrol.c: Changed timing function for win32
	moved timer.c to main direcory

Tue Sep 16 17:42:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gnubg.c, gtkgame.c: Add dynamic help to enter command.


Mon Sep 15 12:55:45 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkboard.c, render.c: fix an oversight of my last commit

Mon Sep 15 01:54:44 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	fixing some 2D board problems, moving board dimensions to
	defines in boarddim.h

	* export.c, gtkboard.c, gtkexport.c, gtkprefs.c, htmlimages.c,
	render.c, render.h, set.c, show.c, xboard.c, xgame.c:
	update of dynamic point labels on the bottom should work now,
	some fixes to export of HTML images
	
	* boarddim.h: new file
	* Makefile.am: add boarddim.h

Sat Sep 13 22:32:01 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* play.c (NewGame): Fixed reroll conditional.

Sat Sep 13 04:59:01 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gtkgame.c (SetAnnotation): Use strlen gettext string instead
	of magic number.

Fri 12 Sep 23:26:21 GMT Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c gnubg.c play.c  - move panels flag out to 
	  unconditional compile point.
	
Fri 12 Sep 19:17:25 GMT Jim Segrave <jes@jes-2.demon.nl>

	backgammon.h MOVE_TIME needn't be conditional
	
Fri 12 Sep 19:00:57 GMT Jim Segrave <jes@jes-2.demon.nl>

	* gnubg.c show.c set.c backgammon.h gtkgame.c - add panels on/off
	  setting


Fri Sep 12 17:56:18 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gnubg.c (TextToClipboard): Chanage Japanese locale detection
	logic.

Fri 12 Sep 1707:54 GMT Jim Segrave <jes@jes-2.demon.nl>
	
        * timecontrol.c play.c backgammon.h needed Unix include files, 
	  missing return values, suppress compiler warnings
	
        * text.c show.c simplelibgen.c sgf.c      C style coments 
	  html.c gtkgame.c gnubgmodule.c gnubg.c  C style coments
          bearoffgammon.h                         C style coments

Fri Sep 12 13:35:24 Stein Kulseth <steink@opera.com>
	* Makefile.am configure.in 
	  backgammon.h drawboard.c gnubg.c gtkboard.c gtkboard.h gtkgame.c
	  gtkgame.h play.c  sgf.c show.c sound.c sound.h
	  tctutorial.h timecontrol.h timecontrol.c:
	 	Time control code added on main branch
	
Thu Sep 12 10:02:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkboard.c: Edit clear chequers empty fix.
	* gtkgame.c: Manual dice in new dialog state fix

Thu Sep 11 18:51:28 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ParseMatMove): don't add illegal moves to plGame.
	(reported by Kees van den Doel)

Thu Sep 11 18:10:28 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (CreateList, GTKDumpStatcontext): reestablish
	the old copy-enabling of line-by-line in the statistics window.
	Note: this only works for OSes with a primary selection, such
	as *nix.

Wed 10 Sep 21:30:14 GMT Jim Segrave <jes@jes-2.demon.nl>

	* insert limits.h before PATH_MAX use in backgammon.h
	
Tue Sep 09 23:13:44 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c (GTKDumpStatcontext): make stats window only bigger,
	not smaller

Tue Sep  9 04:34:30 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* formatgs.c (formatGS): Add /* xgettext: no-c-format */ comment
	for N_("95% confidence interval (ppg)").

Mon Sep 08 20:18:46 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* formatgs.c (formatGS): report cube errors as negative values
	(reported by Scott Steiner)

Mon Sep 08 18:45:56 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	classify cube decisions into 3 categories: around DP, CP and TG
	(suggested by Jørn)

	* analysis.c: rename getMarketWindowDividersMWC to
	getMarketWindowDividersEq
	* analysis.c (getMarketWindowDividersEq): calculate two dividers
	of market window for categorization of doubles
	* analysis.h: add new variables to statcontext
	* formatgs.c (formatGS), gnubgmodule.c (PyGameStats),
	sgf.c (RestoreGS, WriteStatContext): add cube decisions around CP

Mon Sep 08 17:39:45 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c (GTKMessage): add a scrollbar for message window when
	  it has to hold lots

Mon Sep  8 19:20:13 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ParseOldMove): handle oldmoves files generated by
	fibs2html. Add warning for truly invalid moves.

Mon Sep  8 11:26:52 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gtkgame.c (GTKRecordShow): Use gettext to aszRating[] and
	aszLuckRating[].

Mon Sep  8 03:07:11 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gtkrace.c (OSRPage): Don't use gettext on empty strings.

Sun Sep  7 15:23:01 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (NewSet): ensure that tutor mode flag follows
	global setting.
	* gtkexport.c: legend is not implemented yet.

Sun Sep  7 15:11:08 2003  Joern Thyssen  <jth@gnubg.org>

	* external.c (CommandExternal), play.c (ComputerTurn): yet another
	attempt to fix external play.

Sun Sep  7 10:35:46 2003  Joern Thyssen  <jth@gnubg.org>

	Revert "Sat Sep  6 11:35:32 2003".

	* drawboard.c, boardpos.c, boardpos.h, gtkboard.c, export.c:
	revert checkin.

Sat Sep  6 18:06:51 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gnubg.c (HintChequer): Message synch with play.c.
	Replace "Considering moves" with "Considering move".

Sat Sep 6 16:14:58 GMT 2003   Jim Segrave <jes@jes-2.demon.nl>

	* play.c - try to improve distinguishing cube & chequer play
	  error flags

Sat Sep  6 15:07:31 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkrace.c, show.c:	Small improvements in output of race stuff and
	fixes to some bugs in gtkrace.
	(reported by Chris D. Yep)

Sat Sep  6 14:24:54 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLPrintCubeAnalysisTable): fix typo.
	(reported by Martin Krainer)

Sat Sep  6 11:35:32 2003  Joern Thyssen  <jth@gnubg.org>

	Align the FIBSBoard routines to the FIBS board spec.
	This should fix Kees' external player problems.

	* drawboard.c (FIBSBoard): write correct value for "doubled".
	* boardpos.c (CubePosition): value of "doubled" changed according to
	specs. Change all callers.
	* export.c (GenerateImage): do.
	* gtkboard.c (cube_position, board_set): do.

Fri Sep 05 22:57:49 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* backgammon.h, play.c (getFinalScore): new function
	* gtkgame.c (AddNavigation): give final score or none for overall stats
	(reported by Martin Janke)
	* gtkgame.c (GTKDumpStatcontext): #ifdef unused variable

Fri Sep  5 22:46:12 2003  Joern Thyssen  <jth@gnubg.org>

	* matchequity.c (InitMatchEquity):  extend the post Crawford match
	equty table from n - 1 as the  post Crawford table of a n match equity
	table might not include the post Crawford equity at n-away, since the
	first "legal" post Crawford score is n-1.

Fri Sep  5 19:23:04 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (TextToClipboard): fix small memory leak.

Fri Sep  5 09:26:15 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gnubg.c (TextToClipboard): Deal with Japanese WIN32 clipboard
	encoding.

Thu Sep  4 18:36:21 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* html.c (WriteStyleSheet): Don't gettextize CVS ID marker string.

Thu Sep 04 16:34:03 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c: resize stats window if no-panels selected,
	  make New dialogue default to match

Thu Sep 04 11:12:45 2003 GMT  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c, gnubg.c: Added CR/LF for copy to clipboard under windows
	* boards.xml: Added new 3d design (nature)

Wed Sep 03 22:04:45 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkmet.c (UpdateTable): avoid buffer overflow

Wed Sep  3 20:07:45 2003  Joern Thyssen  <jth@gnubg.org>

	* sgf.c (WriteLuck): uses 5 digits for luck to avoid
	rounding errors, e.g., after analysis you get 17.66% luck
	but after you get 17.63% as the luck is only saved with 3 digits.
	(reported by Chris D. Yep)

Wed Sep  3 19:12:12 2003  Joern Thyssen  <jth@gnubg.org>

	* external.c (CommandExternal): fix bug leading to
	strange cubes and play by external player (only player 0).
	(reported by Kees van den Doel)

Wed Sep  3 18:44:13 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ExpandMatMove,ParseMatMove): show warning
	instead of core dump on garbage in .mat files
	(reported by Kees van den Doel)

Tue Sep  2 23:56:28 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* show.c (CommandShowVersion): Deal with gettext.
	* progress.c (TextRolloutProgress): Ditto.

Tue Sep 02 21:48:18 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* analysis.c (getMarketWindowDividerMWC, updateStatcontext):
	fix typo, calculate doubling window for the correct player

Tue Sep 02 11:16:46 2003  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c added option to switch between list/panels for statistics

Tue Sep 02 00:03:39 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c (SetAnnotation), gtkcube.c (CreateCubeAnalysis):
	  tidy up GUI double/take annotation

Mon Sep 01 23:29:12 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c (SetAnnotation): swap doubling skill and luck widgets

Mon Sep 01 22:55:25 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	first version of better logic for categorization of doubles
	(needs tweaking for correct doubling window)

	* analysis.c (updateStatcontext): alter logic
	* analysis.c (getMarketWindowDividerMWC): new function 

Mon Sep  1 21:19:42 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c, text.c: honour more export settings.
	(reported by Martin Krainer)

Mon Sep  1 19:28:48 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ParseOldmove): do not subtract 1 from move
	before calling CanonicalMoveOrder. 
	(bug #5016 reported by Alix Martin)

Mon Sep  1 10:16:46 2003  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkprefs.c (bug 4875) Simplified saving new board designs
	* small 3d board fixes and some default designs (boards.xml)

Mon Sep  1 02:48:46 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gnubg.c (real_main): Fix typo.

Mon Sep  1 12:39:20 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* gnubgmodule.c (PythonMatch): Add match statistics to gnubg.match().

Sun Aug 31 22:53:12 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gnubg.c conditionals around StartPythonHandleX/StopPythonHandleX
	  for all  environments, as it appears to be for a later python
	  version 

Sun Aug 31 22:53:12 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gnubg.c conditionals around StartPythonHandleX/StopPythonHandleX
	  for non GUI environments
	* play.c remove dead variable

Sun Aug 31 21:35:16 2003  Joern Thyssen  <jth@gnubg.org>

	* eval.c (DumpPosition): add position ID and match ID to
	the "eval" output.
	(suggested by Hugh Sconyers)

Sun Aug 31 16:13:02 2003 GMT  Holger Bochnig <hbgg@gmx.net>

	* gtkchequer.c (UpdateMoveList): didn't compile with USE_OLD_LAYOUT,
					 bring back move details

Sun Aug 31 15:13:40 2003  Joern Thyssen  <jth@gnubg.org>

	Remove arDouble from movenormal and movedouble.

	We can't remove it from DA[ ... ] since it'll break existing
	SGF files.

	* backgammon.h, gtkcube.c, gtkgame.c, text.c, html.c, play.c,
	sgf.c, analysis.c: remove arDouble from movenormal and movedouble.
	* sgf.c: do not write arDouble for rollouts.
	* export.c (ExportGameEquityEvolution): remove "dead" code.

Sat Aug 30 20:24:57 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c: fix broken stylesheet.

Sat Aug 30 20:20:39 2003  Joern Thyssen  <jth@gnubg.org>

	* formatgs.c (errorRateMP): report errors rate per decision
	in millipoints.

Sat Aug 30 20:06:47 2003  Joern Thyssen  <jth@gnubg.org>

	Unify handling of match and game statistics for html export,
	text export, and gtk.

	* Makefile.am: add formatgs.[ch]
	* formatgs.c: new file. Return formatted match statistics.
        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): use formatGS.

Sat Aug 30 08:45:23 2003  Joern Thyssen  <jth@gnubg.org>

	* credits.sh, credits.c, AUTHORS: refresh and revert some
	changes.

Sat Aug 30 09:57:49 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* backgammon.h (MAX_CUBE_STR): Remove #define.  Use MAX_CUBE and
	format function instead.

Fri Aug 29 21:34:21 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* gtkprefs.c (BoardPrefsDestroy): Move to outside of HAVE_LIBXML2
	#ifdef (functions for board design zone).

Fri Aug 30 22:53:25 2003  Oystein Johansene <oystein@gnubg.org>

	* gtkgame.c, gtkchequer.c: Make the old layout available through
	the compile option #define USE_OLD_LAYOUT
	
Fri Aug 30 20:34:25 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* lots of fiddling with include files etc. to suppress compiler
          warnings: board3d/inc3d.h analysis.h play.c html.c
	  text.c format.c gtkgame.c board3d/mylist.c gtktoolbar.c 
	  board3d/gtkcolour3d.c gnubg.c gnubgmodule.h gnubgmodule.c
	
Fri Aug 29 18:53:50 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (real_main): "move" initialisating of szTerminalCharset
	and localisation stuff outside #if USE_GUI.
	(reported by Nardy Pillards)

Fri Aug 29 17:23:55 2003  Joern Thyssen  <jth@gnubg.org>

	* analysis.c (Luck, Skill): modify inequalities.
	(bug reported by Michael Depreli, fix contributed by Nis Joergensen)

Fri Aug 29 13:58:55 2003  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* autogen.sh: touch board3d/Makefile.in and textures/Makefile.in.
	* credits.sh, credits.c, AUTHORS: Fix my name and refresh.

Fri Aut 30 12:31:43 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* fixes for graph functions
	* gtkgame.c  include gtktext.h, fix trailing ';' on #endif
	* board3d Makefile.am - add graph.c to sources
	* graph.c - include config.h and some gl includes
	* inc3d.h - add glconfig as global, make idempotent
	* shadow.h - make idempotent
	* widget3d.c - include config.h
	
Thu Aug 29 10:39:52 2003  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c - display statistics in a graph
	* graph.c - new file to draw a graph

Thu Aug 28 19:23:52 2003  Joern Thyssen  <jth@gnubg.org>

	* analysis (absoluteFIBSRating): use new formulae provided by Kees.

Wed Aug 27 21:51:22 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gnubg.c - fix careless cut&paste for language setting

Wed Aug 27 17:43:38 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c - fix rollout settings problems - onesidedbearoff
          truncation and negative values for rollout seed

Wed Aug 27 17:43:38 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - fix bug causing it to stop to soon in CommandRollout

Wed Aug 27 18:19:44 2003 Oystein Johansen <oystein@gnubg.org>

	* gtkgame.c (NewWidget): Fix bug that the shortcut buttons react on
	the player settings.


Wed Aug 27 14:04:44 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gnubg.c - make szLang writeable, ensure LANG env setting
	  is not a local variable

Wed Aug 27 10:11:28 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* board3d/inc3d.h - remove doubled directory separator

Wed Aug 27 09:00:00 2003  Jon Kinsey <Jon_Kinsey@hotmail.com>

	* gtkgame.c Added navigation for match statistics

Tue Aug 26 16:59:33 GMT 2003  Holger Bochnig <hbgg@gmx.net>

	add commands and GUI option to set the language

	* backgammon.h, gnubg.c: add commands
	* gnubg.c (CommandSaveSettings): save language setting
	* gnubg.c (real_main): read language setting from .gnubgautorc,
	  set language
	* gtkoptions.c (OptionsPages, OptionsOK, OptionsSet):
	  GUI language setting
	* set.c, show.c: new functions CommandSetLang, CommandShowLang

TueAug 26 16:17:05  GMT 2003  Jim Segrave jes@jes-2.dmeon.nl

	* gtkexport.c - make number of options a compile time calculation
	
Tue Aug 26 01:43:26 2003  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c (SetAnnotation): rearrange skill widgets to save space

Mon Aug 25 23:39:47 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (GTKNew): add call to gtk_main_quit when dialog
	is destroyed.
	(reported by Joern Thyssen)

Mon Aug 25 23:26:25 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c: ensure that TOGGLE_GAMELIST and friends to not
	overlap with enum _gnubgcommand.

Mon Aug 25 20:53:03 GMT 2003  Jim Segrave jes@jes-2.dmeon.nl

	* gnubg.c = glibc putenv() doesn't copy strings 

Mon Aug 25 22:12:56 2003  Joern Thyssen  <jth@gnubg.org>

	* gtktheory.c (TheoryUpdated): enlarge font used for
	market window.
	(reported by Massimiliano Maini)

Tue Aug 26 07:16:35 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* gtkgame.c (SkillMenu): ignore skill "good" in gtk game.

Sun Aug 24 21:22:13 2003  Oystein Johansen  <oystein@gnubg.org>

	This is a big patch to integrate the GUI. There are still
	a couple of issues to be solved, but I'm commiting this, and hope
	someone can help out with the remaining issues. (See my post to the
	mailing list.

	* render.c, boardpos.c, gtkprefs.c, gtkboard.[ch]: Stretch the 2D board
	  to fit the screen better. The size is now 108 x 82.

	* gtkgame.[ch]: Integrate the game record, annotation and message window
	  with the main window. Add a "New" dialog. Improve GTKFileCommand

	* gtkchequer.c gtkcube.c: Move the tool buttons under the
          movelist/cubeevauation to save width.

	* gtktoolbar.[ch]: Redesign of the toolbar.

	* gnubg.c, backgammon.h: Small changes, for integration.
	
Sun Aug 24 17:18:13 2003  Oystein Johansen  <oystein@gnubg.org>

	* gtkbearoff.c: Make pixmaps of the dice in the pulldown menu.
	* xpm/dice.xpm: New file

Sun Aug 24 11:05:13 2003  Joern Thyssen  <jth@gnubg.org>

	* set.c (SetSkillThreshold): allow setting threshold to zero.
	(suggested by Michael Depreli)

Sat Aug 23 17:31:30 Jim Segrave <jes@jes-2.demon.nl>

	* backgammon.h, gnubg.c add dicerolls nnn command to output list
	  of rolls to stdout.
	
Sat Aug 23 10:32:33 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ImportTMGGame): handle cases where the TMG file says "wins
	1 point" but where the cube value is 2 or more. Typically the last game 	of a match.
	(reported by Albert Silver)
	* import.c (ImportTMGGame): handle small typo in Jim's commit :-)

Fri Aug 22 15:01:19 GMT Jim Segrave <jes@jes-2.demon.nl>

	* import.c - add out of time type 22 for .tmg imports
	* gnubg.c, play.c wrap pwBoard and pwBoard->data with tests
	  for fX, to prevent text mode core dumps
	* board3d/misc3d.c - fix typos
	
Thu Aug 21 23:18:40 2003  Joern Thyssen  <jth@gnubg.org>

	* Makefile.am, configure.in: add texture directory.

Thu Aug 21 20:25:51 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkcube.c (OutputPercentsTable): show headers on 
	gwc's.
	(contributed by Rob Konigsberg)
	* gnubg.c: fix typo in "set beavers" command
	(reported by Chris D. Yep)

Thu Aug 21 18:15:11 2003  Joern Thyssen  <jth@gnubg.org>

	* evalc. (DumpPosition): ensure "eval" reports cubeless money
	equituies rather than cubeless equity.
	(reported by Chris D. Yep)

Thu Aug 21 07:16:42 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* gtkgame.c: Fix manually setting skill to 'good'.

Wed Aug 20 19:20:51 2003  Joern Thyssen  <jth@gnubg.org>

	Restore abs. ratings using the formulae provided by
	Kees van den Doel.

	* gnubg.c: new command "set ratingoffset .."
	* gnubg.c (CommandSaveSettings): save rating offset.
	* set.c (CommandSetRatingOffset): new function.
        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): show abs. rating.
	* analysis (absoluteFIBSRating): use formulae provided by Kees.

Mon Aug 18 19:41:07 2003  Holger Bochnig <hbgg@gmx.net>

	* gtkrace.c: bug fix: race theory window didn't even fit on 1024x768

Mon Aug 18 18:54:36 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkbearoff.c (ToggleWho, BearoffSet): remove debug printf.
	(reported by Oeystein)

Mon Aug 18 17:51:45 2003  Joern Thyssen  <jth@gnubg.org>

	* external.c (CommandExternal), play.c (ComputerTurn):
	another attempt to fix the resign bug.

Mon Aug 18 17:38:07 2003  Joern Thyssen  <jth@gnubg.org>

	* external.c (CommandExternal): copy Joseph's resignation fix.

Mon Aug 18 13:12:05 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* play.c: fix resignation bug.

Sun Aug 17 17:41:58 GMT 2003  Jim Segrave    <jes@jes-2.demon.nl>

	* rollout.c - ensure the eval context stored with a rollut has
	  the cubeful/cubeless flags consistent (some exports reported
	  incorrectly that portions were cubeful when they weren't)

Sun Aug 17 12:38:22 2003  Joern Thyssen  <jth@gnubg.org>

	* analysis.c (DumpStatcontext): fix typo.

Sun Aug 17 12:15:31 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubgmodule.c: remove C++ style variable decl. inside code.

Sun Aug 17  8:45:30 GMT 2003  Jim Segrave    <jes@jes-2.demon.nl>

	* gnubg.c - fix overwrite of buffer in CommandSaveSettings
	
Sun Aug 17  0:44:16 GMT 2003  Jim Segrave    <jes@jes-2.demon.nl>

	* play.c - put if(fX) around 3d board code (seg faulted on
	  starting game in text mode
	* board3d/gtkcolour.c - needs string.h
	
Sat Aug 16 11:24:24 2003  Joern Thyssen  <jth@gnubg.org>

        * analysis.c: include only finished games in luck adj.

Sat Aug 16 11:05:45 2003  Joern Thyssen  <jth@gnubg.org>

        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): show actual and luck adj. result
	relative instead of absolute.
	(suggested by Chris D. Yep)

Sat Aug 16 10:43:32 2003  Joern Thyssen  <jth@gnubg.org>

        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): show FIBS rating difference instead
	of relative FIBS rating.
	(suggested by Kees van den Doel)
        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): show only relative fibs rating
	for the entire match
	(suggested by Chris D. Yep)

Sat Aug 16  7:19:27 GMT 2003  Jim Segrave    <jes@jes-2.demon.nl>

	* gtkchequer.c - empty string instead of null caused errors
	  in sizing hint and annotation windows
	
Fri Aug 15 19:56:24 GMT 2003  Jim Segrave    <jes@jes-2.demon.nl>

	* po/it.po more translations from Renzo Campagna
	
Fri Aug 15 21:01:48 2003  Oystein Johansen  <oystein@gnubg.org>

	* gtkoptions.c: Set seed with a spinbox directly, instead of
	clicking a button and then operate a spinbox.

Fri Aug 15 17:01:48 2003  Joern Thyssen  <jth@gnubg.org>

	* dice.c (RollDice): use high bits of RNGs to generate dice.
	(reported by Michael Petch)

Fri Aug 15 16:42:02 2003  Joern Thyssen  <jth@gnubg.org>

	* play.c (ComputerTurn, CommandExternal): fix logic
	for resignations.

Fri Aug 15 11:36:41 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* eval.c : constify eval contexts.

Fri Aug 15 10:19:01 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* analysis.h: Remove SKILL_INTERESTING, SKILL_VERYGOOD, but keep
	SKILL_GOOD with a "new" interpretation - to flag analyzed good
	moves as opposed to non-analyzed (SKILL_NONE).

Wed Aug 13 22:02:30 GMT 2003  Jim Segrave    <jes@jes-2.demon.nl>

	* po/it.po more translations from Renzo Campagna

Wed Aug 13 22:48:07 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkchequer.c (UpdateMoveList): ensure proper error 
	handling.

Wed Aug 13 22:38:33 2003  Joern Thyssen  <jth@gnubg.org>

	* set.c (CommandSetTutorChequer): fix typo.
	(contributed by Rob Konigsberg)
	* gnubg.c (CommandSaveSettings): declare szTemp.
	* gtkprefs.c: make szTemp local.	
	(reported by Nardy)

Wed Aug 13 21:32:37 2003  Joern Thyssen  <jth@gnubg.org>

	* play.c (CommandNext): fix bug in "next marked" command.
	(reported by Klaus Rindholt)
	* play.c (ShowMark): protect GTK+ code.

Wed Aug 13 19:44:10 2003  Joern Thyssen  <jth@gnubg.org>

	* gtktheory.c (GTKShowTheory): fix i18n problem.
	(reported by Jim)

Wed Aug 13 19:09:18 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkboard.c (button_press_event): right clicks to 
	drop double and reject resignation.
	(contributed by Rob Konigsberg)

Wed Aug 13 18:08:35 2003  Joern Thyssen  <jth@gnubg.org>

	* configure.in: add some magic for board3d and gtk1.2. Also add
	a "--without-board3d" option as suggested by Jim.

Wed Aug 13 15:26:57 GMT 2003  Jim Segrave    <jes@jes-2.demon.nl>
	
	* gtktheory.c - don't call gettext on null strings.

Wed Aug 13 18:03:57 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* set.c: Clear cache when changing MET table. (Reported by Albert
	Silver)

Tue Aug 12 10:53:49 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* gnubgmodule.c (PythonMatch): Initial version. Incomplete in some
	ways. Documentation missing. Likely to change.

Tue Aug 12 10:37:08 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* positionid.c (PositionFromID): constify some args.
	change CheckPosition and PositionFromID return sane TRUE/FALSE
	(1/0) for success/failure after even Joern was bitten by it in
	PythonPositionFromID.

Mon Aug 11 22:10:08 2003  Joern Thyssen  <jth@gnubg.org>

	* po/LINGUAS po/fr.po: French translation.
	* aclocal.m4, Makefile.in: finish upgrade to gettext 0.12.2

Mon Aug 11 14:06:22 GMT 2003 Jim Segrave    <jes@jes-2.demon.nl>

	* credits.sh, po/LINGUAS po/it.po - Italian translations by
	* Renzo Campagna <renzo.camp@tin.it> & Giulio De Marco
	* <polietilene@tiscalinet.it>

Sun Aug 10 15:04:08 2003  Joern Thyssen  <jth@gnubg.org>

	* htmlimages.c (CommandExportHTMLImages): fix bug:
	(no arrows where drawn for fClockwise=TRUE)
	(reported by Martin Janke)

Thu Aug  7 19:57:42 2003  Joern Thyssen  <jth@gnubg.org>

	* sgf.c (SaveGame): fix for MOVE_SETBOARD records where
	one or both sides has bourne all chequers off.
	(reported by Hugh Sconyers)

Thu Aug  7 19:45:11 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTLMDumpStatcontext): always show Eq. Snowie error rate.
	(reported by Chris Yep)

Thu Aug  7 19:29:35 2003  Joern Thyssen  <jth@gnubg.org>

        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): don't show relative fibs rating
	for p>1 or p<0.
	(reported by Kees Van Doel)

Wed Aug  6 20:24:31 2003  Joern Thyssen  <jth@gnubg.org>

	* configure.in, configure: ensure $host is known by envoking
	AC_CANONICAL_HOST.
	(reported by Mike Petch)

Tue Aug  5 21:41:57 GMT 2003  Holger Bochnig <hbgg@gmx.net>

	* gtktheory.c (GTKShowTheory): rearrange theory window so it fits
	  on 800x600

Tue Aug  5 22:59:25 2003  Joern Thyssen  <jth@gnubg.org>

	* Makefile.am, configure.in: changes needed for win32 cross
	compilation.
	(contributed by Mike Petch)

Tue Aug  5 14:46:18 GMT 2003 Jim Segrave    <jes@jes-2.demon.nl>

	* gnubg.c - fix for lost aarOuput in Hint window, fixes for
	  terminal character set names
	
Mon Aug  4 23:47:19 2003  Oystein Johansen  <oystein@gnubg.org>

        * simplelibgen.c (dirname): Check for USE_GTK, so gutils can be used.

Mon Aug  4 21:20:15 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c: some color changes in the html export.

Mon Aug  4 21:04:39 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLCubeAnalysisTable): add class for cubeless equity.

Mon Aug  4 09:18:36 2003 Jim Segrave <jes@jes-2.demon.nl>

	* sgf.c, backgammon.h, play.c, import.c:
	  count number of successive doubles in move record, clean up
	  linking of initial double and following cube actions
	
Sun Aug  3 19:16:13 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkboard.c (ReturnHits): enlarge buffer.

Sun Aug  3 18:51:30 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLPrintMoveAnalysis): add style to equity column.
	(reported by Albert Silver)

Fri Aug  1 09:01:20 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* gnubgmodule.c: code cleanups. Return 'None' where
	appropriate. Use C loops. Use sequences access instead of
	lists. Return board and others as tuples.

Fri Aug  1 19:49:01 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* Makefile.am - allow environment variable for thread libs
	* acinclude.m4 - mispled synopsis
	* configure.in - allow environment variable for thread libs
	  export THREAD_LIBS="-lc_r" or similar
	  The contents of THREAD_LIBS will be added to the flags for
	  ld 
	  changes thanks to Phil Pennock pdp@nl.demon.net
	
Fri Aug  1 08:43:01 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - off by one error in minimum games check
	
Thu Jul 31 17:59:08 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkboard.c (write_points): fix typo.
	* gtkboard.c (write_board): swap board when necesary.
	* gtkchequer.c (MoveListShowMove): do not swap sides.
	(fix bugs #4536 and #4513)

Thu Jul 31 11:36:53 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c: prevent division by zero when jsds are small. This
          time it actually should do something
	* set.c - missing space in option description

Wed Jul 30 09:36:07 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - prevent division by zero when jsds are small

Mon Jul 28 21:31:19 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (InitGTK): new menu entry for IDLE (Python).
	* gnubg.c (HandleCommand): strip leading space of python commands.
	* gnubgmodule.c (PythonInitialise): set argv.

Mon Jul 28 14:31:43 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* play.c - missed initialising CubeDecPtr on beavers

Sun Jul 27 17:22:51 2003  Oystein Johansen  <oystein@gnubg.org>

	* simplelibgen.[ch] (new files): put 'dirname' and 'basename' in a new
        file, so makeweigths, makebearoff and makehyper can link.

Sun Jul 27 14:39:51 2003  Oystein Johansen  <oystein@gnubg.org>
	
	* gnubg.c (dirname), backgammon.h: Pacify fussy compilers.

Sun Jul 27 14:39:51 2003  Oystein Johansen  <oystein@gnubg.org>

	* gnubg.c, html.c, bearoff.c: improve 'dirname' where it's not present.

Sun Jul 27 13:59:51 2003  Joern Thyssen  <jth@gnubg.org>

	* text.c: move all Output* functions to new file format.c	
	(change all callers)
	* format.c, Makefile.am: new file.
	* gnubg.c (DisplayCubeAnalysis, DumpPosition): use 
	OutputCubeAnalysis instead of now deprecated GetCubeActionSz.

Sun Jul 27 12:05:37 2003  Joern Thyssen  <jth@gnubg.org>

	Oops, the html did not validate...

	* html.c (GetStyleGeneral): new function.
	* html.c (HTMLPrintMoveAnalysis): re-fix reentrancy problems.
	* html.c (HTMLPrologue): missing end tag on <link>

Sun Jul 27 11:43:36 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLPrintMoveAnalysis): remove some colspans to
	produce better output. Fix reentrancy problem.
	(reported by Joseph)

Sun Jul 27 11:11:33 2003  Joern Thyssen  <jth@gnubg.org>

	Avoid coredump when importing invalid SGG (and others) with
	"set gotofirstgame on"
	(reported by Joseph)

	* import.c: let import routines return -1 indicating errors.
	* gnubg.c: handle returned value from import routines.

Sun Jul 27 01:46:23 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (CommandExportHTMLImages): render board label pictures
	correctly.

Sun Jul 27 01:20:51 2003  Joern Thyssen  <jth@gnubg.org>

	Update board labels dynamically.

	* gtkboard.c (board_invalidate_labels): new function.
	* gtkboard.c (board_set): invalidate labels if turn has changed.
	* gtkprefs.c (GeneralPage): add option for dynamic labels.
	* renderprefs.c (RenderPrefsParam, RenderPrefsCommand): 
	add option for dynamic labels.
	* render.c (CalculateImages): render labels dynamically based
	on who's on roll.
	* render.c (RenderImages): render images needed for dynamic labels.

Sat Jul 26 22:45:35 2003  Joern Thyssen  <jth@gnubg.org>

	Include Holger's arrows in the html export.

	* htmlimages.c (CommandExportHTMLImages): write images
	with arrows if LIBART is present.
	* html.c (printHTMLBoardGNU): use new images.

Sat Jul 26 18:15:27 2003  Joern Thyssen  <jth@gnubg.org>

	* analysis.c - utilise the combined double/take data and preserve
	rollouts across analyses
	
Sat Jul 26 19:16:45 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLPrintCubeAnalysisTable): more styles.
	* html.c (HTMLPrintMoveAnalysi): use bullet instead of *.

Sat Jul 26 17:18:40 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkboard.c (board_set): oops, get rid of button_clockwise.
	* gtktoolbar.c (ToolbarSetClockwise): new function.

	* gtkboard.c (ReturnHits): new function.
	* gtkboard.c (update_move): first attempt on showing number
	of rolls that hit blots.
	(suggested by Morten Juul)

Sat Jul 26 13:53:07 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLPrintCubeAnalysisTable): bold fontface for essential
	cube decision numbers.
	* html.c (printHTMLBoardBBS): surround BBS board with paragraph
	which has the "page-break-inside: avoid" style.

Sat Jul 26 13:37:53 2003  Joern Thyssen  <jth@gnubg.org>

	* htmlimages.c (CommandExportHTMLImages): draw labels on picture.
	* html.c (printHTMLBoardGNU): labels are now on pictures.

Sat Jul 26 11:01:26 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - pass no-double cube value so money game rollouts of
	  cube decisions give correct equity
	
Sat Jul 26 12:58:31 2003  Joern Thyssen  <jth@gnubg.org>

	Remove toolbar from "inside" of board.

	* gtktoolbar.c: new file
	* gtkboard.c: move toolbar related code to gtkboolbar.c
	* Makefile.am: new file gtktoolbar.c
	* gtkgame.c: add toolbar to main window.

Sat Jul 26 11:05:25 2003  Joern Thyssen  <jth@gnubg.org>

	* eval.c (Cl2CfMoney): fix bug in calculation of cubeless equity.
	(reported by Ned Cross)

Fri Jul 25 21:04:58 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (FinishMove): new function.
	* gtkgame.c (InitGTK): new menu item and accelerator for finish move.
	(bug #4278 by Erik Barfoed)

Fri Jul 25 20:49:07 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (CommandSaveSettings): add some qoutes around %s in
	'set rng file %s'. This is a possible fix for bug #4393.
	(bug #4393 reported by William Maslen)

Fri Jul 25 20:22:06 2003  Joern Thyssen  <jth@gnubg.org>

	* analysis.c (LuckFirst): fix bug in calculation of luck for
	the first roll in match play with asymmetric scores.
	(reported by Peter Eberhard)

Fri Jul 25 16:51:08 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (printHTMLBoardBBS, printHTMLBoardGNU, printHTMLBoardF2H):
	print pip counts above position ID. Print position ID and match ID with
	a smaller font.
	* html.c: finish implementation of external CSS style sheet.

Fri Jul 25 16:35:48 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkbearoff.c: widget did not update when pressing who's
	was on roll.
	* bearoff.c (ReadSconyers15x15): remove debug print.
	(reported by Hugh Sconyers)
	
Fri Jul 25 07:53:09 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* gtkgame.c (FormatStatEquity,FormatStatCubeError): Remove verbose
	zeros in summary.

Thu Jul 24 19:41:23 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (DumpGameList): show dice for MOVE_SETDICE.

Thu Jul 24 19:29:36 2003  Joern Thyssen  <jth@gnubg.org>

	* import.c (ImportSGGGame): better support for resignations
	in SGG files.
        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): show only luck adj. results
	when calculated.

Thu Jul 24 11:57:54 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* html.c: Small HTML cleanups.
	Complete removel of zeros in summary. Change '*' to HTML bullet.

Wed Jul 22 16:34:15 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* backgammon.h gnubg.c gtkgame.c html.c latex.c postscript.c
	  text.c sgf.c play.c analysis.c import.c export.c

	  doubles and corresponding take moverecords have the same
	  analysis and evalcontext
	
Wed Jul 22 14:17:18 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gtkcube.c - allow extending cube decision rollouts

Tue Jul 22 14:29:09 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* set.c - add decimal places to j.s.d. displayed value
	* rollout.c - force rollouts of cube decisions to use cubeful
	  rollout contexts

Tue Jul 22 10:41:36 2003  Joseph Heled  <pepster@users.sourceforge.net>

	* html.c (printStatTableMissed): don't print '(-0.000 ( -0.000%))'
	in HTML output. 

Mon Jul 21 23:05:10 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkboard.c (write_points): fix bug when writing boards
	for turn=-1.
	(reported by Dean Gay)

Mon Jul 21 22:13:49 2003  Joern Thyssen  <jth@gnubg.org>

	* html.c (HTMLMatchInfo): only print non-empty values.

Mon Jul 21 21:17:30 2003  Joern Thyssen  <jth@gnubg.org>

        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): fix normalisation bug.

Mon 20 Jul 17:04:44 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c - more re-arrangement of aspect ratio
	* gtkoptions.c - set output digits reset old value
	
Mon Jul 21 15:59:43 2003  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c gtkgame.h gtkmet.c: update filename of current MET
	  in options after loading a new one

Mon 20 Jul 13:30:41 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c - quick hackery changing some hboxes to vboxes
	  to change the aspect ration of the rollout settings main page
	
Mon 20 Jul 11:32:04 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - re-instate fix for initial position dice (lost 
	  when hand merging changes for orginal extendable rollouts)

Mon 20 Jul 09:49:08 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* progress.c - neater display of rank/jsds, better column label
	
Sun 19 Jul 22:01:18 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c - called SanityCheck with reversed board, so
	  it didn't deal with rollouts where one side has borne 
	  off.
	
Sun 19 Jul 14:49:33 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c - fix limits on j.s.d. spinner, re-arrange
	  rollout general page (truncation pane above later
	  evaluations pane).
	
Sun 19 Jul 10:48:16 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c was losing the number of games rolled out.
	
Sat Jul 18 09:55:40 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* guile.c - adjust call to GeneralEvaluationR to match
	  new rollout progress functions.
	
Sat Jul 18 07:13:40 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c - search the stack of grab owners for the
	  current caller of ResumeInput and trim the stack if 
	  found
	
Sat Jul 18 00:22:40 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* rollout.c gtkgame.c - update after every game rolled out,
	  cosmetics on Rank/no. JSDs
	
Fri Jul 18 23:02:40 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gtkgame.c - add a stack to hold signals for grab so that
	  closing a window with grab will not die when the signal
	  can't be disconnected
	
Fri Jul 18 21:15:10 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* gnubg.c - missing call to RolloutProgressStart in CommandRollout
	  for chequer play
	
Fri Jul 18 21:32:34 2003  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.c gtkoptions.c: fix [bug #4288] Incorrect path to MET

Fri Jul 18 13:49:30 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* backgammon.h eval.h gnubg.c rollout.c rollout.h progress.c
	  progress.h set.c gtkgame.c gtkgame.h 
	  Fixes to rollout extension, allow rollout stop on JSD of moves
	  fix 'set output digits' command
	
Fri Jul 18 10:12:40 2003  Joern Thyssen  <jth@gnubg.org>

	* text.c (OutputMWC): strip some '+' signs from output of
	standard error values.

Thu Jul 17 21:59:37 2003  Holger Bochnig <hbgg@gmx.net>

	Sockets support on Windows
	getting the dice from random.org now works on Windows, too

	* gnubg.c (real_main, Shutdown): Winsock initialisation and cleanup
	* dice.c (getDiceRandomDotOrg), external.c (ExternalSocket,
	  ExternalRead, ExternalWrite):
	  use send and recv, adjusting to different function definitions

Thu Jul 17 14:46:45 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkchequer.c (UpdateMoveList): use Output* functions instead of
	hardcoded logic.

Thu Jul 17 12:29:20 2003  Joern Thyssen  <jth@gnubg.org>

	Some changes to the match statistics:
	(a) output ppg advantage for money game
	(b) REMOVE output of abs. fibs rating
	(c) add output of relative fibs rating based on luck adj. results

        * html.c (HTMLDumpStatcontext), gtkgame.c (GTKDumpStatcontext), 
        analysis.c (DumpStatcontext): see above.

Wed Jul 16 21:28:23 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (CommandHint): move code into a set of subroutines.
	* gnubg.c (CommandRollout): call new functions HintCube and HintChequer.

Wed Jul 16 21:21:08 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkoptions.c: introduce gui equivalent to "set output digits ..."
	(suggested by Olivier Croisille)

Wed Jul 16 18:49:11 2003  Joern Thyssen  <jth@gnubg.org>

	Introduce flag to set the numbers of digits output for
	probabilities and equities.
	(derived from bug #4236 by Ian Shaw)

	* gnubg.c: new command "set output digits ..."			
	* text.c (OutputEquity, OutputMoneyEquity, OutputEquityScale,
	OutputEquityDiff, OutputMWC, OutputPercent): generate format
	dynamically using new flag fOutputDigits
	* progress.c (GTKRolloutProgress): use Output* functions instead
	of hardcoded logic.

Wed Jul 16 15:57:01 2003  Joern Thyssen  <jth@gnubg.org>

	Revert changes dated Wed Jul  9 10:32:08 2003 pending
	discussion on bug-gnubg@gnu.org

	* text.c

Wed Jul 16 14:57:00 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (CommandRollout): only save rollout into movelist, if
	this is a rollout of a move!
	(bug #4313 reported by Ian Shaw)

Wed Jul 16 12:21:20 2003  Joern Thyssen  <jth@gnubg.org>

	Change rollouts routines to accept a progress callback instead
	of currently hardcoded GTK+ calls.

	* rollout.c (GeneralEvaluation, GneralEvaluationR,
	GeneralCubeDecision, GeneralCubeDecisionR): change prototype to
	include progress callback.
	* rollout.c (RolloutGeneral): replaced hardcoded calls with
	calls to passed progress callback.
	* progress.c: new file with default progress initialisers and 
	callbacks.
	* gnubg.c (CommandRollout): bring up hint dialog after
	"rollout =cube" and "rollout =1 =2 =3". 
	* gnubg.c, gtkchequer.c, gtkcube.c, database.c, analysis.c, external.c: 
	change calls to rollout functions.
	* gtkgame.c: move GTK rollout progress stuff to new file progress.c

Tue Jul 15 19:52:54 2003  Holger Bochnig <hbgg@gmx.net>

	* set.c: sockets: added includes for Windows

Tue Jul 15 17:07:45 2003  Holger Bochnig <hbgg@gmx.net>

	* gnubgmodule.c gnubgmodule.h: if-guard python extensions

Tue Jul 15 00:11:02 2003  Joern Thyssen  <jth@gnubg.org>

	* rollout.c (GeneralCubeDecisionR): fix bug leading to wrong
	cube decision rollouts.

Sun Jul 13 22:24:12 2003  Joern Thyssen  <jth@gnubg.org>

	* text.c (OutputMoveFilterPly): add a newline
	* text.c (OutputEvalContextsForRollout): fix some indentation
	problems.

Sun Jul 13 20:02:12 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubgmodule.c (PythonPositionID, PythonPositionFromID,
	PythonPositionFromBearoff, PythonPositionBearoff): new functions.

Sun Jul 13 18:17:05 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* make sure rollouts skip completed trials without wasting time
		
Sun Jul 13 19:49:16 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.py: new file (read during startup).


Sun Jul 13 19:17:27 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkchequer.c (MoveListRollout): call HandleXAction.

Sun Jul 13 12:06:05 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (CommandRollout): fix some non-ANSI decls.
	* configure.in: new autoconf magic for python
	* gnubg.c (real_main, usage): new option -p.

Sun Jul 13 02:17:05 GMT 2003 Jim Segrave <jes@jes-2.demon.nl>

	* eval.c, eval.h, export.h, gnubg.c, gtkchequer.c, gtkcube.c
	  gtkgame.c, guile.c, html.c, play.c, rollout.c, rollout.h, sgf.c
	  text.c - change rollout handling to support extending rollouts
	  and 'parallel' rollouts of multiple moves
	
Sat Jul 12 19:58:53 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubgmodule.c: change board from typle to list.

Sat Jul 12 15:27:04 2003  Joern Thyssen  <jth@gnubg.org>

	Add Python support for gnubg.

	* gnubg.c: support for Python.
	* gnubgmodule.c: new file: python support for gnubg.

Sat Jul 12 10:11:00 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkgame.c (EvalWidget): ugly fix for problematic string.

Sat Jul 12 01:25:24 2003  Joern Thyssen  <jth@gnubg.org>

	* Makefile.am, configure.in: check for python

Fri Jul 11 20:48:34 2003  Joern Thyssen  <jth@gnubg.org>

	* path.c (PathOpen, PathSearch): use DIR_SEPARATOR as
	directory separator instead of hardcoded /.

Fri Jul 11 20:47:56 2003  Holger Bochnig <hbgg@gmx.net>

	* external.c: ignore SIGPIPE on Windows

Fri Jul 11 19:29:11 2003  Holger Bochnig <hbgg@gmx.net>

	trying to use sockets on Windows (SIGPIPE still missing)

	* dice.c, external.c, external.h: added includes and defines for Windows
	* external.c: some workarounds for missing socket functions and
	              ones with different prototypes

Fri Jul 11 12:39:38 2003  Joern Thyssen  <jth@gnubg.org>

	* play.c (CommandRoll): fix grammer (bug #4273)
	* gtkoptions.c (OptionsPages): fix some typos and disable
	15x15 on disk (it's not implemented yet)

Thu Jul 10 21:56:41 2003  Holger Bochnig <hbgg@gmx.net>

	* bearoff.c, gnubg.c: use g_path_get_dirname
	  if dirname not available
	* show.c: #include "gtkpath.h" added

Thu Jul 10 20:19:59 2003  Holger Bochnig <hbgg@gmx.net>

	* postscript.c: changed StartPage and EndPage to 
	  PSStartPage and PSEndPage, respectively, to avoid name clash
	  on Windows

Thu Jul 10 14:56:04 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c: new command "show matchresult" to show
	actual and luck adjusted results for a money game.
	(needed to answer post in rec.games.backgammon)
	* show.c (CommandShowMatchResult): new function.

Thu Jul 10 13:55:07 2003  Joern Thyssen  <jth@gnubg.org>

	* gnubg.c (dirname): win32 doesn't have dirname.

Thu Jul 10 13:10:29 2003  Joern Thyssen  <jth@gnubg.org>

	Improve output of settings for rollout 
	(bug #4243 by Ian Dunstan)

	* text.c (OutputRolloutContext): output more settings

Thu Jul 10 11:14:30 2003  Joern Thyssen  <jth@gnubg.org>

	Trim gtkgame.c: move gtk widget for Settings->Options and
	Settings->Path into new files.
	
	* gtkoptions.c, gtkpath.c: new files
	* gtkgame.c: rename a few functions and move many to new files.

Thu Jul 10 10:35:00 2003  Joern Thyssen  <jth@gnubg.org>

	Initial experimental support of Hugh Sconyers' full 15x15
	bearoff database.

	* gnubg.c: new command "show bearoff", 	
	"set bearoff sconyers 15x15 [dvd|disk] [enable|path]".
	* gnubg.c (ChangeDisk): new function.
	* gnubg.c (real_main): init sconyers' bearoff databases.
	* gnubg.c (CommandSaveSettings): save setup for Sconyers' databases.

	* set.c (CommandSetBearoffSconyers15x15DVDEnable,
	CommandSetBearoffSconyers15x15DiskEnable
	CommandSetBearoffSconyers15x15DVDPath,
	CommandSetBearoffSconyers15x15DiskPath): new functions.
	* show.c (CommandShowVariation): fix typo.
	* show.c (CommandShowBearoff, ShowBearoff): new functions.

	* eval.h: new class CLASS_BEAROFF_15x15 (NOT ENABLED YET!)
	* eval.c: make sure that all evaluations routines return
	values to indicate errors or interrupt.

	* bearoff.c (BearoffClose): modify prototype; free pbc
	* bearoff.h: new options.
	* bearoff.c: make sure that all bearoff routines return
	values to indicate errors or interrupt.
	* bearoff.c (BearoffDumpSconyers15x15, ReadSconyers15x15,
	BearoffEvalSconyers): new functions.

	* gtkbearoff.c: new file (GTK equivalent of "show bearoff")

	* gtkgame.c (GTKChangeDisk): new function.
	* gtkgame.c: new meny entry: Analyse->Bearoff
	* gtkgame.c (OptionPages): new page for bearoff setup.

	* rollout.c (BearoffRollout): add fixme...

	* configure.in, config.h.in: search for dirname.
	* Makefile.am: new files gtkbearoff.[ch]

Wed Jul  9 10:32:08 2003  Joern Thyssen  <jth@gnubg.org>

	* text.c (OutputEquity, OutputMoneyEquity, OutputEquityScale,
	OutputEquityDiff, OutputMWC, OutputPercent): add a digit to the
	output
	(bug #4236 by Ian Shaw)

Tue Jul 8 23:00 CET 2003 Olivier Baur <olivier.baur@noos.fr>

        * openurl.c: added support for MacOS X

Tue Jul 08 22:58:59 2003  Holger Bochnig <hbgg@gmx.net>

	* gtkgame.h, gtkexport.c, gtkgame.c, gtkmet.c,
	  gtkmovefilter.c, gtkprefs.c, gtkrace.c, gtkrolls.c,
	  gtktempmap.c, gtktheory.c: rename CreateDialog to GTKCreateDialog
	  to avoid name clash with the Windows function

Tue Jul 8 21:00 CET 2003 Olivier Baur <olivier.baur@noos.fr>

        Implement sound support on Mac OS X, using QuickTime; add a new
        "sound system" called "QuickTime", a new command "set sound system
        quicktime", and a new sound system radio button in the Options >
        Sound settings dialog.
        
        * sound.h: define new sound system SOUND_SYSTEM_QUICKTIME
        * sound.c: modify play_file() and play_file_child(); add functions 
            PlaySound_QuickTime() and Thread_PlaySound_QuickTime();
        * set.c: add new function CommandSetSoundSystemQuickTime()
	* backgammon.h: add prototype to CommandSetSoundSystemQuickTime()
        * gnubg.c: add command "set sound system quicktime"
        * gtkgame.c: OptionPages(), OptionsOK'): add new "pwSoundQuickTime"
            radio button widget

Tue Jul 8 19:05 GMT 2003 Jim Segrave jes@jes-2.demon.nl

        * undo change to rollout.c - it was a fix for a problem which
          was only in local development source
        * gtkgame.c - turning off cubefull on the Rollout setting general
          page will turn off cubeful chequer play on all other pages
          Suggestion by Ian Dunstan

Tue Jul  8 18:29:56 2003  Joern Thyssen  <jth@gnubg.org>

        * text.c (OutputRolloutContext): display later evals.
        (bug #4229, reported by Ian Dunstan)


Tue Jul 8 11:15 GMT 2003 Jim Segrave jes@jes-2.demon.nl

        * rollout.c - initialise internal variables on first game of
          rollout
        
Mon Jul  7 12:33:17 2003  Joern Thyssen  <jth@gnubg.org>

        * rollout.c (RolloutDice): fix bug in generated dice for
        rollout as initial position.

Mon Jul  7 11:38 CET 2003  Olivier Baur  <olivier.baur@noos.fr>

        Fix bug: when playing against gnubg, you would sometimes
        get several games in a row with identical dice sequences
        (reported by Peter O Lura <polura@online.no>); the issue
        actually arises when a new game is started after having
        performed a rollout, which "resets" the RNG to the
        "rollout seed".

	* rollout.c (RolloutGeneral): add call to InitRNG at end of
            rollout to make sure that next game played against gnubg
            won't get dice rolls based on the seed of a rollout that
            has just been performed.

Sun Jul  6 18:01:08 2003  Joern Thyssen  <jth@gnubg.org>

        * openurl.c (OpenURL): commit old fix.

Sun Jul 6 15:02 GMT 2003 Jim Segrave jes@jes-2.demon.nl

        * rolloutc it helps to call fabs() when dealing with floats.
          sigh - complete brain fade
        
Sun Jul  6 14:33:42 2003  Joern Thyssen  <jth@gnubg.org>

        * eval.c (EvalKey): do not include cubeful flags, match scores, etc.
        in calculation of hash key for 0-ply evaluations unless called 
        from EvaluatePositionCubeful.

Sun Jul  6 13:48:46 2003  Joern Thyssen  <jth@gnubg.org>

        * gtkgame.c (StatcontextGetSelection): order lines before copying.
        (bug #4160 reported by Holger Bochnig)

Sat Jul  5 20:53:42 2003  Joseph Heled  <pepster@users.sourceforge.net>

        * gnubg.c: replace 'const' with ICONV_CONST to get rid of compiler
        warning.

Thu Jul 3 15:02 GMT 2003 Jim Segrave jes@jes-2.demon.nl

        * openurl.c gtktheory.c gtkboard.c osr.c eval.c gnubg.c
          htmlimages.c export.c lib/event.c
          fixes for compiler warnings - unused variables removed, 
          cast added in gnubg.c, config.h included in event.c (and
          fix of call to outputerr()), add explicit returns in eval.c
          for reaching end of non-void function

Thu Jun 31 18:23:52 2003  Joern Thyssen  <jth@gnubg.org>

	* gtkprefs.c (toggle_display_type): gtk_notebook_get_n_pages does
	exist in gtk+ 2???

